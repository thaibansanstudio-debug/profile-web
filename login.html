<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Login / Register</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: white;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}
.box {
  background: #020617;
  padding: 30px;
  border-radius: 12px;
  width: 320px;
  box-shadow: 0 0 20px #000;
}
h2 { text-align: center; }
input, button {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
  border-radius: 8px;
  border: none;
}
input {
  background: #020617;
  border: 1px solid #334155;
  color: white;
}
button {
  background: #2563eb;
  color: white;
  cursor: pointer;
}
button:hover {
  background: #1d4ed8;
}
.link {
  text-align: center;
  margin-top: 10px;
  cursor: pointer;
  color: #38bdf8;
}
.hide { display: none; }
</style>
</head>
<body>

<div class="box" id="registerBox">
  <h2>สมัครสมาชิก</h2>
  <input id="regUser" placeholder="ชื่อผู้ใช้">
  <input id="regPass" type="password" placeholder="รหัสผ่าน">
  <button onclick="register()">สมัคร</button>
  <div class="link" onclick="showLogin()">มีบัญชีแล้ว? ล็อกอิน</div>
</div>

<div class="box hide" id="loginBox">
  <h2>เข้าสู่ระบบ</h2>
  <input id="loginUser" placeholder="ชื่อผู้ใช้">
  <input id="loginPass" type="password" placeholder="รหัสผ่าน">
  <button onclick="login()">เข้าสู่ระบบ</button>
  <div class="link" onclick="showRegister()">สมัครสมาชิก</div>
</div>

<div class="box hide" id="dashboard">
  <h2>ยินดีต้อนรับ</h2>
  <p id="welcome"></p>
  <button onclick="logout()">ออกจากระบบ</button>
</div>

<script>
function register() {
  const user = regUser.value;
  const pass = regPass.value;
  if (!user || !pass) return alert("กรอกข้อมูลให้ครบ");
  localStorage.setItem("user_" + user, pass);
  alert("สมัครสมาชิกสำเร็จ");
  showLogin();
}

function login() {
  const user = loginUser.value;
  const pass = loginPass.value;
  const saved = localStorage.getItem("user_" + user);
  if (saved === pass) {
    localStorage.setItem("login", user);
    showDashboard();
  } else {
    alert("ชื่อผู้ใช้หรือรหัสผ่านผิด");
  }
}

function logout() {
  localStorage.removeItem("login");
  showLogin();
}

function showLogin() {
  registerBox.classList.add("hide");
  dashboard.classList.add("hide");
  loginBox.classList.remove("hide");
}

function showRegister() {
  loginBox.classList.add("hide");
  registerBox.classList.remove("hide");
}

function showDashboard() {
  loginBox.classList.add("hide");
  registerBox.classList.add("hide");
  dashboard.classList.remove("hide");
  welcome.innerText = "คุณคือ: " + localStorage.getItem("login");
}

if (localStorage.getItem("login")) {
  showDashboard();
}
</script>

</body>
</html>
